<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solving Problems of Project Euler</title>
    <link rel="stylesheet" href="styles_euler.css" />
    <!-- Load MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [
            ["$", "$"],
            ["\\(", "\\)"],
          ],
        },
      };
    </script>
    <script
      type="text/javascript"
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
  </head>
  <body>
    <h1>Here we go.</h1>
    <h3><b>Problem Title: Multiples of 3 or 5</b></h3>
    <h3>Problem Number: 001</h3>
    <h3>
      Problem Definition: If we list all the natural numbers below 10 that are
      multiples of 3 or 5, we get 3, 5, 6, and 9. The sum of these multiples is
      23.
    </h3>
    <h4>
      Problem Question: Find the sum of all the multiples of 3 or 5 below 1000.
    </h4>
    <!-- Here begins Inclusion-Exclusion Method-->
    <p>
      At first glance, if one were to pounce at it heedlessly, it could take
      some time bean counting -- counting what to include and what to exclude.
    </p>

    <!-- Display Bean-Counting Result -->
    <p>Nevertheless, we derive the answer: <span id="result1"></span></p>
    <hr />
    <p>
      I believe we are all convinced there must be a more elegant way to derive
      the same answer though.
    </p>
    <p>
      And indeed, there is the AP series that a 9th or 10th grader might also be
      aware of, given that we know the common difference between numbers,
      <b><i>the sum of an arithmetic series is given by:</i></b>
    </p>

    <div>$$ S_n = \frac{n}{2} [2a_1 + (n-1)d] $$</div>

    <p>where n is the number of terms added, or tested for summing, 1000</p>
    <p>
      a<sub>1</sub> is the first term tested and considered for summing (3 or 5)
    </p>
    <p>and d is the common difference between numbers (3 or 5)</p>

    <!-- Display AP Result -->
    <p>We derive the answer more quickly: <span id="result2"></span></p>
    <hr />

    <script>
      // Scripts run after all elements are loaded
      document.addEventListener("DOMContentLoaded", function () {
        // Define how to count if a number is a multiple of any other number
        function sumMultiplesOf(divisibleBy) {
          const limit = 1000; // because Problem Question explicitly indicates "below 1000"
          let sum = 0;
          for (let i = 0; i < limit; i++) {
            if (i % divisibleBy === 0) {
              sum += i;
            }
          }
          return sum;
        }

        // Multiples of 3, and Multiples of 5 are included, whereas Multiples of 15 are duplicates of the former two and are hence excluded
        const sumOfAllMultiples =
          sumMultiplesOf(3) + sumMultiplesOf(5) - sumMultiplesOf(15);
        // Store output as "result1"
        document.getElementById("result1").textContent = sumOfAllMultiples;

        // AP Series Method
        function sumAPof(firstTerm, d) {
          // For multiples of a number below 1000, we need to find how many terms there are
          const n = Math.floor((1000 - 1) / d);
          return (n * (2 * firstTerm + (n - 1) * d)) / 2;
        }

        // Calculate the sum for multiples of 3, 5, and subtract the sum for multiples of 15
        const sumAllAP = sumAPof(3, 3) + sumAPof(5, 5) - sumAPof(15, 15);
        // Store output as "result2"
        document.getElementById("result2").textContent = sumAllAP;
      });
    </script>
  </body>
</html>
